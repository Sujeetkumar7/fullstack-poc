<div class="d-flex flex-column vh-100">
  <nav
    class="navbar navbar-dark bg-primary px-3 d-flex justify-content-between align-items-center fixed-top"
  >
    <span class="navbar-brand mb-0 h1">Admin Dashboard</span>
    <button class="btn btn-light btn-sm" (click)="logout()">Logout</button>
  </nav>

  <div class="container-fluid flex-grow-1 d-flex" style="margin-top: 56px">
    <div class="flex-grow-1 p-4">
      <div class="card mb-4 shadow-sm">
        <div class="card-header d-flex justify-content-between align-items-center">
          <h5 class="mb-0">User Management</h5>
          <button class="btn btn-primary btn-sm" (click)="openAddUser()">Add User</button>
        </div>
        <div class="card-body">
          <app-table [data]="users" [displayedColumns]="['id', 'username']"> </app-table>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #addUserTemplate>
  <form [formGroup]="userForm">
    <div class="mb-3">
      <label for="username" class="form-label">Username</label>
      <input id="username" type="text" class="form-control" formControlName="username" />
      <div
        *ngIf="userForm.get('username')?.invalid && userForm.get('username')?.touched"
        class="text-danger mt-1"
      >
        <small *ngIf="userForm.get('username')?.errors?.['required']">
          Username is required.
        </small>
        <small *ngIf="userForm.get('username')?.errors?.['minlength']">
          Minimum 3 characters required.
        </small>
      </div>
    </div>
  </form>
</ng-template>
